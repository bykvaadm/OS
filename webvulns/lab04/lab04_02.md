# Уязвимости 4 практика часть 2

**Сайт:** [http://errsql.myctf.ru](http://errsql.myctf.ru)

**Requirements:** Kali linux (sqlmap + burp suite)

Для автоматизации поиска уязвимостей воспользуйтесь утилитой sqlmap.

1. Запустите burp suite
2. Запустите браузер и выполните настройку на использование прокси (127.1:8080)
3. Зайдите на сайт [http://errsql.myctf.ru](http://errsql.myctf.ru)
4. Во вкладке intercept ПО burpsuite разрешите передачу пакета удаленному серверу
5. На прогрузившемся сайте, введите в качестве логина и пароля test, test.
6. Скопируйте получившиеся заголовки и сохраните их в файл headers

    У вас должен был получиться примерно такой результат (здесь вывод приведен не полностью):

    ```shellsession
    POST / HTTP/1,0
    Host: errsql.myctf.ru
    .......
    Upgrade-Insecure-Requests: 1
    Content-Length: 24

    login=test&password=test
    ```

7. Запустите sqlmap со следующими ключами:

    ```shellsession
    # sqlmap -r headers
    ```

    Посмотрите, как программа попробует в автоматическом режиме подобрать уязвимость.

8. Исправьте в файле headers логин test на test\* (это явный указатель на уязвимый параметр.

9. Запустите sqlmap со следующими ключами:

    ```shellsession
    # sqlmap -r sql1 --dbms=mysql --level=3 --risk=3
    ```

    - Какую роль выполняют эти ключи?

10. Запустите sqlmap, добавив ключи --tables и --columns

    - Какой результат вы получили?

11. добавьте дополнительно ключ -v 3, для того чтобы видеть процесс эксплуатации

    - Какой вектор атаки использует sqlmap?

12. Сдампите конкретную базу, используя следующие ключи: -T flag --dump и подобрав технику эксплуатации (--technique=XXX)

    - Какой флаг вы получили?