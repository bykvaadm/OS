# ПРАКТИКА 2

**Задание -1:** История IP адресов

[http://viewdns.info/iphistory/?domain=mospolytech.ru](http://viewdns.info/iphistory/?domain=mospolytech.ru)

**Задание 0:** Поиск сертификатов

[https://crt.sh/?q=%25.mospolytech.ru](https://crt.sh/?q=%25.mospolytech.ru)

**Задание 1** : Поиск информации о почтовых ящиках по заданному домену: ______________________________ (выбрать самостоятельно, или [mospolytech.ru](mospolytech.ru))

В консоли терминала выполнить команду:

```shellsession
$ theharvester -d mospolytech.ru -b all
```

Полученные результаты занести в таблицу:

| Найденные IP адреса | Найденные доменные имена | Найденные почтовые ящики |
| --- | --- | --- |
|  |  |  |

- Какую информацию вы получили на выходе?
- Где можно применить эту информацию?

**Задание 2:** Поиск информации о суб-доменах по заданному домену: ______________________________ (выбрать самостоятельно, или mospolytech.ru)

В терминале ввести команды:

```shellsession
# recon-ng
[recon-ng][default] > load google_site_web
[recon-ng][default][google_site_web] > set source mospolytech.ru
[recon-ng][default][google_site_web] > run
```

Заполнить таблицу:

| Найденные суб домены |
| --- |
|  |

- Какую информацию вы получили на выходе?
- Где можно применить эту информацию?

**Задание 3:** Поиск информации у регистратора по заданному домену: ______________________________ (выбрать самостоятельно, или [mospolytech.ru](mospolytech.ru), [ptsecurity.com](ptsecurity.com))

В терминале ввести команды:

| # whois ptsecurity.com |
| --- |

Заполнить таблицу:

|   | Информация о домене [mospolytech.ru](mospolytech.ru) | Информация о домене  [ptsecurity.com](ptsecurity.com) |
| --- | --- | --- |
| Владелец |   |   |
| Почтовые адреса |   |   |
| Физические адреса |   |   |
| IP адреса |   |   |
| Телефоны |   |   |
| ДНС сервера |   |   |
| DNSSEC |   |   |

**Задание 4:** Поиск информации у DNS серверов по заданному домену: ______________________________ (выбрать самостоятельно, или mospolytech.ru)

В терминале ввести команды:

```shellsession
# dnsrecon -d mospolytech.ru
```

Заполнить таблицу:

| Тип записи | Доменное имя | IP адрес |
| --- | --- | --- |
|  |  |  |

- Какую еще информацию вы почерпнули из вывода команды?

Попробуем использовать грубый перебор по словарю, чтобы выявить домены, которых нет в google, и о которых нам не рассказал NS.

В терминале ввести команды:

```shellsession
# cd /usr/share/wordlists/
# cd /usr/share/wordlists# git clone https://github.com/rbsec/dnscan.git
# dnsrecon -d mospolytech.ru -t brt -D /usr/share/wordlists/dnscan/subdomains-10000.txt
```

- Какие дополнительные результаты принес нам этот словарь?

Добавьте в таблицу полученные результаты.

Кроме того можно выполнять обратное преобразование ip адресов в домены. Попробуйте выполнить команду со всеми найденными IP адресами:

```shellsession
# dnsrecon -d mospolytech.ru -n 8.8.8.8 -t rvl -r x.x.x.x
```

Вместо google dns попробуйте подставить ns сервера, которые вы нашли ранее, запишите их в таблицу:

| Найденный NS сервер | IP адрес |
| --- | --- |
|  |  |

Попробуйте также другую утилиту:

```shellsession
# dnsenum mospolytech.ru
# dnsmap mospolytech.ru
```

Запишите полученные результаты в таблицу.

[https://xakep.ru/2017/09/19/hack-contest-dns-dig](https://xakep.ru/2017/09/19/hack-contest-dns-dig)

**Задание 5:** Ищем информацию о серверах и сетях

[https://www.censys.io/ipv4?q=mospolytech.ru](https://www.censys.io/ipv4?q=mospolytech.ru)

[https://bgp.he.net/dns/mospolytech.ru](https://bgp.he.net/dns/mospolytech.ru)

**Задание 6:** Агрегированный поиск информации.

Введите команду:

```shellsession
# dmitry mospolytech.ru
```

Запишите полученные результаты в таблицу.

**Задание 7:** Использование публичных сервисов для поиска информации и агрегирование полученных данных.

Соберите все ранее полученные данные по домену mospolytech.ru в единую таблицу. Посмотрите, остались ли у вас пробелы? Постарайтесь выполнить прямой и обратный поиск по IP адресам, доменам и субдоменам. В поиске также используйте сервисы сайта 2ip.ru:

Зайдите на сайт 2ip.ru и введите там найденные доменные имена и IP адреса. Вы должны получить информацию следующего характера:

- Информация об IP адресе или домене
- IP интернет ресурса
- Система управления сайтом (CMS)
- Хостинг сайта
- Информация о сайте
- Сайты на одном IP
- Все домены одного владельца
- DNS параметры домена
- Поиск доменного имени
- Определение IP адреса по Е-mail

Это задание очень трудоемкое, полностью его выполнять не следует, т.к. Каждый ответ на каждый запрос из списка выше может принести вам новую информацию, которая также должна быть проверена через список выше, что в свою очередь опять может принести информацию и так далее по кругу.

---

**Внеклассное задание по желанию:**

- Ознакомиться с софтом Maltego